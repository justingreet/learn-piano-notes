{"version":3,"sources":["util-service.js"],"names":[],"mappings":";;AAAA,IAAI,aAAa,QAAQ,MAAR,CAAe,yBAAf,CAAb;;AAEJ,WAAW,OAAX,CAAmB,aAAnB,EAAkC,YAAW;AAC3C,OAAK,sBAAL,GAA8B,UAAS,MAAT,EAAiB;AAC7C,QAAI,QAAQ,CAAC,SAAS,EAAT,CAAD,GAAc,EAAd,CADiC;AAE7C,QAAI,OAAO,KAAK,GAAL,CAAS,CAAT,EAAY,KAAZ,IAAmB,GAAnB,CAFkC;AAG7C,WAAO,IAAP,CAH6C;GAAjB,CADa;;AAQ3C,OAAK,mBAAL,GAA2B,UAAS,IAAT,EAAe,UAAf,EAA2B;AACpD,WAAO,KAAK,KAAL,CAAW,aAAW,IAAX,CAAlB,CADoD;GAA3B,CARgB;;AAa3C,OAAK,mBAAL,GAA2B,UAAS,MAAT,EAAiB;;AAE1C,QAAI,aAAa,EAAb;;;AAFsC,QAKtC,iBAAiB,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,EAAO,CAAP,EAAS,EAAT,CAAjB,CALsC;;AAO1C,QAAM,kBAAkB,EAAlB,CAPoC;AAQ1C,QAAI,iBAAiB,CAAC,SAAS,UAAT,CAAD,GAAwB,eAAxB,CARqB;;AAU1C,WAAO,eAAe,OAAf,CAAuB,cAAvB,IAAyC,CAAC,CAAD,CAVN;GAAjB,CAbgB;CAAX,CAAlC","file":"util-service-compiled.js","sourcesContent":["var utilModule = angular.module('pianoPitchDetector.util');\n\nutilModule.service('utilService', function() {\n  this.getFrequencyFromKeyNum = function(keyNum) {\n    var power = (keyNum - 49)/12;\n    var freq = Math.pow(2, power)*440;\n    return freq;\n  };\n\n\n  this.getSamplesPerPeriod = function(freq, sampleRate) {\n    return Math.round(sampleRate/freq);\n  };\n\n\n  this.isKeyNumFlatOrSharp = function(keyNum) {\n    // Let C2 act as our zero.\n    let rootKeyNum = 16;\n\n    // These key numbers (relative to a zero-indexed zero) are sharps and flats.\n    let sharpsAndFlats = [1,3,6,8,10];\n\n    const KEYS_PER_OCTAVE = 12;\n    let offsetFromZero = (keyNum - rootKeyNum) % KEYS_PER_OCTAVE;\n\n    return sharpsAndFlats.indexOf(offsetFromZero) > -1;\n  }\n});\n"]}