{"version":3,"sources":["helpers-module.js"],"names":[],"mappings":";;AAAA,QAAQ,MAAR,CAAe,qCAAf,EAAsD,CAChD,yBADgD,CAAtD,EAIK,OAJL,CAIa,qBAJb,EAIoC,CAAC,YAAW;AAC1C,MAAI,YAAY,EAAZ,CADsC;;AAG1C,OAAK,WAAL,GAAmB,UAAS,MAAT,EAAiB;AAClC,cAAU,IAAV,CAAe,MAAf,EADkC;AAElC,QAAI,OAAO,KAAK,GAAL,CAAS,OAAO,MAAP,EAAe,IAAxB,CAAP,CAF8B;;AAIlC,QAAI,OAAO,SAAS,aAAT,CAAuB,QAAvB,CAAP,CAJ8B;AAKlC,SAAK,YAAL,CAAkB,OAAlB,EAA2B,KAAK,QAAL,EAA3B,EALkC;AAMlC,SAAK,YAAL,CAAkB,QAAlB,EAA4B,KAA5B,EANkC;;AAQlC,aAAS,IAAT,CAAc,WAAd,CAA0B,IAA1B,EARkC;;AAUlC,QAAI,aAAa,KAAK,UAAL,CAAgB,IAAhB,CAAb,CAV8B;;AAYlC,eAAW,WAAX,GAAyB,OAAzB,CAZkC;AAalC,eAAW,SAAX,GAAuB,CAAvB,CAbkC;;AAelC,eAAW,SAAX,CAAqB,CAArB,EAAuB,CAAvB,EAAyB,OAAO,MAAP,EAAc,GAAvC,EAfkC;AAgBlC,eAAW,WAAX,GAAyB,KAAzB,CAhBkC;AAiBlC,eAAW,SAAX,GAjBkC;AAkBlC,eAAW,MAAX,CAAkB,CAAlB,EAAoB,CAApB,EAlBkC;AAmBlC,eAAW,MAAX,CAAkB,CAAlB,EAAoB,GAApB,EAnBkC;AAoBlC,eAAW,MAAX,CAAkB,MAAI,IAAJ,EAAS,CAA3B,EApBkC;AAqBlC,eAAW,MAAX,CAAkB,MAAI,IAAJ,EAAS,GAA3B,EArBkC;AAsBlC,eAAW,MAAX,CAAkB,KAAG,IAAH,EAAQ,CAA1B,EAtBkC;AAuBlC,eAAW,MAAX,CAAkB,KAAG,IAAH,EAAQ,GAA1B,EAvBkC;AAwBlC,eAAW,MAAX,CAAkB,MAAI,IAAJ,EAAS,CAA3B,EAxBkC;AAyBlC,eAAW,MAAX,CAAkB,MAAI,IAAJ,EAAS,GAA3B,EAzBkC;AA0BlC,eAAW,MAAX,CAAkB,IAAlB,EAAuB,CAAvB,EA1BkC;AA2BlC,eAAW,MAAX,CAAkB,IAAlB,EAAuB,GAAvB,EA3BkC;AA4BlC,eAAW,MAAX,GA5BkC;AA6BlC,eAAW,SAAX,GA7BkC;AA8BlC,eAAW,MAAX,CAAkB,CAAlB,EAAqB,OAAO,CAAP,CAArB,EA9BkC;AA+BlC,SAAK,IAAI,IAAE,CAAF,EAAI,IAAE,OAAO,MAAP,EAAc,GAA7B,EAAkC;AAChC,iBAAW,MAAX,CAAkB,CAAlB,EAAoB,MAAK,OAAO,CAAP,IAAU,GAAV,CAAzB,CADgC;KAAlC;AAGA,eAAW,MAAX,GAlCkC;GAAjB,CAHuB;;AAwC1C,OAAK,YAAL,GAAoB,YAAW;AAC7B,WAAO,SAAP,CAD6B;GAAX,CAxCsB;CAAX,CAJrC","file":"helpers-module-compiled.js","sourcesContent":["angular.module('pianoPitchDetector.waveform-helpers', [\n      'pianoPitchDetector.util'\n    ])\n\n    .service('drawWaveformService', [function() {\n      var waveforms = [];\n\n      this.addWaveform = function(buffer) {\n        waveforms.push(buffer);\n        var size = Math.min(buffer.length, 1000);\n\n        var elem = document.createElement('canvas');\n        elem.setAttribute('width', size.toString());\n        elem.setAttribute('height', '256');\n\n        document.body.appendChild(elem);\n\n        var waveCanvas = elem.getContext('2d');\n\n        waveCanvas.strokeStyle = \"black\";\n        waveCanvas.lineWidth = 1;\n\n        waveCanvas.clearRect(0,0,buffer.length,256);\n        waveCanvas.strokeStyle = \"red\";\n        waveCanvas.beginPath();\n        waveCanvas.moveTo(0,0);\n        waveCanvas.lineTo(0,256);\n        waveCanvas.moveTo(.25*size,0);\n        waveCanvas.lineTo(.25*size,256);\n        waveCanvas.moveTo(.5*size,0);\n        waveCanvas.lineTo(.5*size,256);\n        waveCanvas.moveTo(.75*size,0);\n        waveCanvas.lineTo(.75*size,256);\n        waveCanvas.moveTo(size,0);\n        waveCanvas.lineTo(size,256);\n        waveCanvas.stroke();\n        waveCanvas.beginPath();\n        waveCanvas.moveTo(0, buffer[0]);\n        for (var i=1;i<buffer.length;i++) {\n          waveCanvas.lineTo(i,128+(buffer[i]*128));\n        }\n        waveCanvas.stroke();\n      };\n\n      this.getWaveforms = function() {\n        return waveforms;\n      }\n    }]);"]}