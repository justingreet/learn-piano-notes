{"version":3,"sources":["note-trainer-directive.js"],"names":[],"mappings":"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","file":"note-trainer-directive-compiled.js","sourcesContent":["noteTrainerModule.directive('noteTrainer', function () {\n  const SPACE_BETWEEN_LINES = 50;\n\n  const STAFF_HEIGHT = 200;\n  const STAFF_WIDTH = 300;\n  const NUM_STAFFS_PER_LINE = 3;\n  const NUM_LINES = 2;\n\n  class Staff {\n    constructor(top, left, noteNum, ctx) {\n      this.top = top;\n      this.left = left;\n      this.noteNum = noteNum;\n      this.ctx = ctx;\n    }\n\n    noteDetected(detectedNote) {\n\n    }\n\n    enter() {\n\n    }\n\n    exit() {\n\n    }\n\n    draw() {\n      let ctx = this.ctx;\n      ctx.beginPath();\n      ctx.moveTo(this.left, this.top);\n      ctx.lineTo(this.left + STAFF_WIDTH, this.top);\n      ctx.lineTo(this.left + STAFF_WIDTH, this.top + STAFF_HEIGHT);\n      ctx.lineTo(this.left, this.top + STAFF_HEIGHT);\n      ctx.lineTo(this.left, this.top);\n      ctx.stroke();\n    }\n  }\n\n  class Line {\n    constructor(top, ctx) {\n      const maxNote = 50;\n      const minNote = 20;\n\n      this.ctx = ctx;\n\n      this.staffs = [];\n      for (let i = 0; i < NUM_STAFFS_PER_LINE; i++) {\n        var noteNum = Math.random()*(maxNote - minNote) + minNote;\n        this.staffs.push(new Staff(top, i*STAFF_WIDTH,\n            noteNum, this.ctx));\n      }\n    }\n\n    enter() {\n\n    }\n\n    exit() {\n\n    }\n\n    noteDetected() {\n\n    }\n\n    draw() {\n      this.staffs.forEach(staff => staff.draw());\n    }\n  }\n\n  class NoteTrainerController {\n    constructor() {\n      this.canvasWidth = NUM_STAFFS_PER_LINE*STAFF_WIDTH;\n      this.canvasHeight = NUM_LINES*STAFF_HEIGHT +\n          (NUM_LINES - 1)*SPACE_BETWEEN_LINES;\n\n      var c = document.getElementById(\"sheetMusic\");\n      this.ctx = c.getContext(\"2d\");\n\n      this.lines = [];\n      for (let i = 0; i < NUM_LINES; i++) {\n        this.lines.push(\n            new Line(i*STAFF_HEIGHT + i*SPACE_BETWEEN_LINES, this.ctx));\n      }\n\n      //this.draw();\n      window.setTimeout(() => this.draw(), 10);\n    }\n\n    start() {\n\n    }\n\n    pause() {\n\n    }\n\n    draw() {\n      this.lines.forEach(line => line.draw());\n    }\n  }\n\n  return {\n    restrict: 'E',\n    scope: {\n    },\n    controller: NoteTrainerController,\n    controllerAs: 'ctrl',\n    templateUrl: 'components/note-trainer/note-trainer.html'\n  };\n});"]}